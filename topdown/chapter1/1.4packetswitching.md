# 1.4分组交换网中的时延、丢包和吞吐量

> 吞吐量：每秒能够传送的数据量

### 1.4.1 分组交换网中的时延概述

> 当分组从一个节点（主机或路由器）沿着这条路径到后继节点(主机或路由器)，该分组在沿途的每个节点经受了不同类型的时延。
>
> 这些时延中最为重要的是
>
> - **节点处理时延(nodal processing delay)**
> - **排队时延(queuing delay)**
> - **传输时延(transmission delay)**
> - **传播时延(propagation delay)**
>
> 这些时延*累加*起来即**节点总时延(total noadl delay)**

1. 时延的类型

   - 处理时延

     > **检查首部**和**决定该分组导向何处**所需要的时间是**处理时延**的一部分。还包括如检查比特级别的差错所需要的时间，该差错出现在从上游节点向路由器传输这些分组比特的过程中。

   - 排队时延

     > 在队列中，当分组在链路上等待传输时，它经受**排队时延**。
     >
     > 一个特定分组的排队时延长度**取决于**先期到达的正在排队等待向链路传输的分组数量。（排队时延应该还要加上正在传输的分组的传输时延？书上没有说明，但是根据后面这句话来看应该是需要的。）如果该队列是**空**的，并且当前**没有其他分组正在传输**，则该分组的排队时延为0.

   - 传输时延

     > 假定分组以先到先服务方式传输，仅当所有已经到达的分组被传输以后，才能传输刚到达的分组。
     >
     > 用**L比特**表示该分组的长度，用**Rbps**(b/s)表示路由器A到路由器B的链路传输速率，则
     > $$
     > 传输时延 = L/R
     > $$
     > 这是将所有分组的比特推向链路所需要的时间。

   - 传播时延

     > 一旦一个比特被推向链路，该比特需要向路由器B传播。从该链路的起点到路由器B传播所需要的时间是**传播时延**。
     >
     > 该比特以该链路的传播速率传播。该传播速率取决于链路的物理媒体。
     > $$
     > 速率范围为：2*10^8 - 3*10^8 m/s
     > $$
     > 传播时延等于两台路由器之间的距离除以传播速率。假设d是路由器之间的距离，v是该链路的传播速率，则有:
     > $$
     > t_{传播时延} = d/v
     > $$

   - 传输时延和传播时延的比较

     > 传输时延是路由器推出分组所需要的时间，它是分组长度和链路传输速率的函数
     >
     > 传播时延是一个比特从一台路由器传输到另一台路由器所需要的时间，他是两台路由器之间距离的函数，而与分组长度或链路传输速率无关
     >
     > 总时延公式：
     > $$
     > d_{nodal} = d_{proc}+d_{queue}+d_{trans}+d_{prop     }
     > $$
     > 



****

### 1.4.2 排队时延和丢包

