# 1.3网络核心

### 1.3.1 分组交换

> 端系统相互交换**报文**,报文可以执行一种控制功能，也可以包含数据。
>
> 从源端系统向目的端系统发送一个报文，源将长报文划分为较小的数据块，这个过程称为**分组** 

1. 存储转发传输

   - 多数分组交换机在链路的**输入端**使用存储转发传输机制。

   - 存储转发指在**交换机**能够开始向输出链路传输该分组的第一个比特之前，必须**接收到整个分组**

   - 存储转发时延

     > 通过由N条速率均为R的链路组成的路径(源和目的地之间有N-1台路由器)，从源到目的地发送**一个**分组端到端时延是：（忽略了**传播时延**！）

     $$
     d_(端到端)=N(L/R)
     $$

     > P个分组经过N个链路的时延需要考虑具体的传输情况。

     
   
2. 排队时延和分组丢失

   - 排队时延：
     - 输出缓存：每台分组交换机和各条链路相连的位置有一个输出缓存，用于存储路由器**准备**发往该链路的分组
     - 等待：如果到达的分组需要传输到某条链路，但该链路正**忙**于传输其他分组，则该分组必须在输出缓存中等待。
     - 排队时延：因此除了**存储转发时延**之外，分组还要承受输出缓存的**排队时延**，时延取决于网络的**拥塞程度**
   - 分组丢失：
     - 因为缓存的空间是有限的，一个到达的分组很可能因为缓存被其他等待传输的分组占满了，这种情况下将出现**分组丢失(丢包)**，到达的分组或已经排队的分组之一将被丢弃。

3. 转发表和路由选择协议

   > 每个端系统具有一个称为**IP地址**的地址。当源主机向目的端系统发送一个分组的时候，源在该分组的**首部**包含了目的地的IP地址。
   >
   > 当一个分组到达网络中的路由器时，路由器检测该分组的目的地址的一部分，并向一台相邻路由器**转发该分组**（在转发表中搜索出链路然后转发或抛弃）。
   >
   > 每台路由器有一个**转发表**，用于将目的地址或其一部分映射为输出链路
   >
   > 当某分组到达一台路由器时，路由器检查该地址，并用这个目的地址搜索其转发表，以发现适当的出链路，路由器则将分组导向该出链路。



****

### 1.3.2 电路交换

> 在电路交换网络中，在端系统通信会话期间*预留*了端系统间沿路径通信所需要的资源（缓存、链路传输速率）。而在分组交换网络中，这些资源是不会预留的。
>
> 在发送方能发送信息之前，该网络必须在发送方和接收方之间建立一条链接。该链接在电话术语中被称为**电路**。当网络创建这种电路时，它也在连接期间在该网络链路上预留了恒定的传输速率(表现为每条链路传输容量的一部分)。由于为**发送方-接收方链接**预留了**带宽**，所以发送方能以**确保**的**恒定速率**向接收方传送数据

1. 电路交换网络中的复用

   - FDM(频分复用)

     > 对于FDM链路的频谱由跨越链路创建的所有链接共享。在连接期间链路为每条连接专用一个频段频段的宽度称为**带宽**

   - TDM(时分复用)

     > 对于TDM，时间被划分为固定期间的帧，每个帧又被划分为固定数量的时隙。当网络跨越一条链路创建一条连接时，网络在每个帧中为该连接指定一个时隙。该时隙专门由该连接单独使用，一个时隙可用于传输该连接的数据。

   - 静默期：指建立连接的发送方停止发送数据的期间，网络资源还是被占用，这些资源无法被有效的利用



****

### 1.3.3 网络的网络

